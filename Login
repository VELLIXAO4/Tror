
if not gg then os.exit() end
gg.setVisible(false)

-- ğŸŒ¸ File UID dan banned
local uidFile = "/sdcard/Download/.Chrome"
local banFile = "/sdcard/Download/.Downloads"

-- ğŸ”’ Ambil UID
local function getUID()
  local f = io.open(uidFile, "r")
  if f then
    local uid = f:read("*l")
    f:close()
    return uid
  end
end

local uid = getUID()
if not uid then
  gg.alert("â”Œâ”€ ERROR â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚                                 â”‚\nâ”‚  ğŸ’» DeviceUID.NotFound()        â”‚\nâ”‚  ğŸ“ File: uidFile â”‚\nâ”‚  ğŸ› ï¸  Action: generateUID()      â”‚\nâ”‚                                 â”‚\nâ”‚  >> Run setup script first      â”‚\nâ”‚  >> Contact: https://wa.me/6285706400133     â”‚\nâ”‚                                 â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜")
  os.exit()
end

-- ğŸ›‘ Cek apakah UID dibanned
local function isBanned(uid)
  local f = io.open(banFile, "r")
  if f then
    for line in f:lines() do
      if line == uid then
        f:close()
        return true
      end
    end
    f:close()
  end
  return false
end

if isBanned(uid) then
  gg.alert("â”Œâ”€ ACCESS_DENIED â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚                                 â”‚\nâ”‚  ğŸš« SecurityViolation.detected  â”‚\nâ”‚  ğŸ“‹ Reason: script.modified()   â”‚\nâ”‚  âš¡ Status: PERMANENTLY_BANNED   â”‚\nâ”‚                                 â”‚\nâ”‚  if (appeal.needed) {           â”‚\nâ”‚    contact(admin.support);      â”‚\nâ”‚  }                              â”‚\nâ”‚                                 â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜")
  os.exit()
end

-- âš ï¸ Jika modifikasi terdeteksi, simpan UID ke daftar banned
local function banUID(uid)
  local f = io.open(banFile, "a")
  if f then
    f:write(uid .. "\n")
    f:close()
  end
end

-- ğŸ•µï¸â€â™€ï¸ Cek modifikasi script (self-check)
local function integrityCheck()
  local thisFile = debug.getinfo(1, "S").source:sub(2)
  local f = io.open(thisFile, "r")
  if not f then return end
  local content = f:read("*all")
  f:close()

  local critical = {
    "firebaseURL",
    "gg.makeRequest",
    "script_url",
    "load(run.content)()"
  }

  for _, key in ipairs(critical) do
    if not content:find(key, 1, true) then
      banUID(uid)
      gg.alert("â”Œâ”€ SECURITY_BREACH â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚                                 â”‚\nâ”‚  ğŸ’€ IntegrityCheck.FAILED()     â”‚\nâ”‚  ğŸ” Tampered: " .. key .. "        â”‚\nâ”‚  âš¡ Action: banUID.execute()     â”‚\nâ”‚                                 â”‚\nâ”‚  // You've been caught red-handed\nâ”‚  console.log('RIP your access');\nâ”‚                                 â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜")
      os.exit()
    end
  end
end

-- ğŸš§ Jalankan check
integrityCheck()

--ğŸŒ¸ Vellix UID Auth System | Kawaii Edition ğŸ°âœ¨
if not gg then os.exit() end
gg.setVisible(false)

local uidFile = "/sdcard/Android/.gg_vellix_device_uid.txt"

--ğŸ¾ Ambil UID dari file lokal
local function getUID()
  local f = io.open(uidFile, "r")
  if f then
    local uid = f:read("*l")
    f:close()
    return uid
  end
end

local uid = getUID()
if not uid then
  gg.alert("// âŒ Runtime Error\n\nclass DeviceAuthError extends Error {\n  constructor() {\n    super('UID not initialized');\n    this.code = 'DEV_001';\n  }\n}\n\nğŸ’¡ Solution: Run deviceUID.init()\nğŸ“§ Support: https://wa.me/6285706400133")
  os.exit()
end

gg.toast("// ğŸš€ Initializing Vellix Dev Console\nconst deviceID = '" .. uid:sub(1,8) .. "â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢';\nconsole.log('Device authenticated âœ…');")
gg.sleep(1600)
gg.toast("â”Œâ”€ CONNECTING â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚                                 â”‚\nâ”‚  ğŸ“¡ fetch('/api/auth/verify')   â”‚\nâ”‚  â³ Status: establishing...     â”‚\nâ”‚  ğŸ” SSL: enabled               â”‚\nâ”‚                                 â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜")
gg.sleep(1900)
gg.toast("// ğŸ’» Developer Mode Active\nawait authService.validateUser();\nrunning pre-flight checks...\nstatus: 'connecting_to_Server' ğŸ”¥")
gg.sleep(1700)

--ğŸŒ Firebase Master_Log URL
local firebaseURL = "https://iruna-afd77-default-rtdb.asia-southeast1.firebasedatabase.app/Master_Log/"..uid..".json"
local res = gg.makeRequest(firebaseURL)

if not res or res.code ~= 200 or not res.content or res.content == "null" then
  gg.alert("â”Œâ”€ HTTP_404 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚                                 â”‚\nâ”‚  ğŸŒ API Response: Not Found     â”‚\nâ”‚  ğŸ“ Message: 'User not in DB'   â”‚\nâ”‚  ğŸ¯ Action: Register required   â”‚\nâ”‚                                 â”‚\nâ”‚  const solution = {             â”‚\nâ”‚    contact: 'https://wa.me/6285706400133', â”‚\nâ”‚    type: 'premium_registration' â”‚\nâ”‚  };                             â”‚\nâ”‚                                 â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜")
  os.exit()
end

--ğŸ“– Ambil data dari JSON
local json = res.content
local banned  = json:match('"banned"%s*:%s*"([^"]+)"')
local expired = json:match('"expired"%s*:%s*"([^"]+)"')
local password = json:match('"password"%s*:%s*"([^"]+)"')
local script_url = json:match('"script_url"%s*:%s*"([^"]+)"')

--ğŸ”’ Cek status banned
if banned == "true" then
  gg.alert("â”Œâ”€ ACCESS_FORBIDDEN â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚                                 â”‚\nâ”‚  ğŸ’€ if (user.isBanned) {        â”‚\nâ”‚       return 403;               â”‚\nâ”‚     }                           â”‚\nâ”‚                                 â”‚\nâ”‚  ğŸ” Reason: Code tampering      â”‚\nâ”‚  ğŸ“ Support: Ticket system      â”‚\nâ”‚                                 â”‚\nâ”‚  // Better luck next time ğŸ˜    â”‚\nâ”‚                                 â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜")
  os.exit()
end

--ğŸ“… Cek tanggal kedaluwarsa
local today = os.date("%Y-%m-%d")
if expired and expired < today then
  gg.alert("â”Œâ”€ SUBSCRIPTION_EXPIRED â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚                                 â”‚\nâ”‚  ğŸ“… const expiredOn = '" .. expired .. "';\nâ”‚  â° const today = new Date();    â”‚\nâ”‚  âŒ Status: expired              â”‚\nâ”‚                                 â”‚\nâ”‚  ğŸ’³ Renewal options:            â”‚\nâ”‚  â€¢ Premium: $9.99/month         â”‚\nâ”‚  â€¢ Pro: $19.99/month            â”‚\nâ”‚                                 â”‚\nâ”‚  ğŸ¯ Contact: https://wa.me/6285706400133 â”‚\nâ”‚                                 â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜")
  os.exit()
end

--ğŸ§ Password Prompt
local input = gg.prompt(
{"â”Œâ”€ AUTHENTICATION â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚                                 â”‚\nâ”‚  ğŸ”‘ User: " .. uid:sub(1,12) .. "â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢   â”‚\nâ”‚  ğŸ” Password required:          â”‚\nâ”‚                                 â”‚\nâ”‚  // Enter your dev access key   â”‚\nâ”‚  const accessKey = prompt();    â”‚\nâ”‚                                 â”‚\nâ”‚  ğŸ›¡ï¸  Secured by VELLIXAO      â”‚\nâ”‚                                 â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜"}, 
  nil, 
  {"text"}
)

if not input or input[1] ~= password then
  gg.alert("â”Œâ”€ AUTHENTICATION_FAILED â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚                                 â”‚\nâ”‚  âŒ if (password !== hash) {     â”‚\nâ”‚       throw new AuthError();    â”‚\nâ”‚     }                           â”‚\nâ”‚                                 â”‚\nâ”‚  ğŸ” Debug: Invalid credentials  â”‚\nâ”‚  ğŸ’¡ Hint: Check your keychain   â”‚\nâ”‚                                 â”‚\nâ”‚  ğŸ“ Forgot password?            â”‚\nâ”‚     â†’ https://wa.me/6285706400133          â”‚\nâ”‚                                 â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜")
  os.exit()
end

--âœ¨ Verifikasi berhasil uwu~
gg.toast("â”Œâ”€ LOADING_PREMIUM â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚                                 â”‚\nâ”‚  ğŸ“¦ npm install premium-features â”‚\nâ”‚  âš¡ Webpack bundling...          â”‚\nâ”‚  ğŸ¯ Optimizing performance...   â”‚\nâ”‚                                 â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜")
gg.sleep(2000)

gg.toast("// ğŸš€ Dev Console Ready\nconst features = await import('./premium');\nruntime.status = 'LOADED';\nconsole.log('All systems operational! ğŸ”¥');")
gg.sleep(1800)

--ğŸ“¥ Ambil dan jalankan script utama
local run = gg.makeRequest(script_url or "")
if not run or run.code ~= 200 or not run.content then
  gg.alert("â”Œâ”€ NETWORK_ERROR â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚                                 â”‚\nâ”‚  ğŸŒ fetch().catch(error => {    â”‚\nâ”‚      console.error(error);      â”‚\nâ”‚    });                          â”‚\nâ”‚                                 â”‚\nâ”‚  ğŸ“Š Status: 500 Server Error    â”‚\nâ”‚  ğŸ”§ Try: Check network conn.    â”‚\nâ”‚                                 â”‚\nâ”‚  ğŸ“ DevOps: https://wa.me/6285706400133      â”‚\nâ”‚                                 â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜")
  os.exit()
end

gg.toast("â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—\nâ•‘         ğŸ‰ VELLIX DEV SUITE ğŸ‰        â•‘\nâ•‘                                        â•‘\nâ•‘  Status: âœ… Online                    â•‘\nâ•‘  Mode:   ğŸ’» Script Premium         â•‘\nâ•‘  Build:  ğŸš€ Production Ready          â•‘\nâ•‘                                        â•‘\nâ•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•")
gg.sleep(1200)

--ğŸ¦„ Jalankan isi script utama dari server~
load(run.content)()
